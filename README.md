# HGraber next

–≠—Ç–æ –ø—è—Ç–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è HGraber, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –∏ —Å–æ–∑–¥–∞–Ω–∞ —Å —Ü–µ–ª—å—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º.

[–ë–∞–∑–æ–≤—ã–π –∞–≥–µ–Ω—Ç](https://github.com/gbh007/hgraber-next-agent-core) –¥–ª—è —Å–∏—Å—Ç–µ–º—ã  
[UI –Ω–∞ React TS](https://github.com/gbh007/hgraber-next-react-ui)  
[–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](https://github.com/gbh007/hgraber-next-tools) –¥–ª—è —Å–∏—Å—Ç–µ–º—ã

–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ:

- [–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞](#–∏—Å—Ç–æ—Ä–∏—è-–ø—Ä–æ–µ–∫—Ç–∞)
- [–°–ª–æ–≤–∞—Ä—å —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏](#—Å–ª–æ–≤–∞—Ä—å-—Ç–µ—Ä–º–∏–Ω–æ–≤-–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö-–≤-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)
- [–°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è](#—Å—Ö–µ–º–∞-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è)
- [–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫ (Grafana stack)](#–ø—Ä–∏–º–µ—Ä-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ª–æ–≥–æ–≤-–∏-–º–µ—Ç—Ä–∏–∫-grafana-stack)
- [–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CD –≤ Jenkins](#–ø—Ä–∏–º–µ—Ä-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏-cd-–≤-jenkins)
- [–î–µ—Ñ–æ–ª—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](#–¥–µ—Ñ–æ–ª—Ç–Ω–∞—è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–∏-–ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- [–ü–ª–∞–Ω—ã –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –≤–µ—Ä—Å–∏—é](#–ø–ª–∞–Ω—ã-–Ω–∞-—Å–ª–µ–¥—É—é—â—É—é-–≤–µ—Ä—Å–∏—é)
- [–ü—Ä–æ—à–ª—ã–µ –≤–µ—Ä—Å–∏–∏](#–ø—Ä–æ—à–ª—ã–µ-–≤–µ—Ä—Å–∏–∏)

## –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞

_–î–∞ –ø—Ä–æ—Å—Ç–∏—Ç –º–µ–Ω—è Sqlite_ üôè

```mermaid
timeline
  section 2018
    –ê–ø—Ä–µ–ª—å : üÜô –ø—Ä–æ–µ–∫—Ç "Manga graber"
  section 2021
    –ò—é–ª—å : üÜô CLI "Hgraber"
         : üì¢ –í–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    –ù–æ—è–±—Ä—å : üì¢ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
           : üÜô –í–µ—Ä—Å–∏—è 1.0
  section 2022
    –Ø–Ω–≤–∞—Ä—å : üõ†Ô∏è –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ gin-gonic
           : üõ†Ô∏è 100% –ø–æ–∫—Ä—ã—Ç–∏–µ context
           : üõ†Ô∏è –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
           : üÜô –í–µ—Ä—Å–∏—è 2.0
    –ú–∞—Ä—Ç : üõ†Ô∏è –î–æ–±–∞–≤–ª–µ–Ω make
         : üì¶ –î–æ–±–∞–≤–ª–µ–Ω–∞ "JDB"
         : üõ†Ô∏è –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ net/http —Å–µ—Ä–≤–µ—Ä
         : üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ sqlite
         : üÜô –í–µ—Ä—Å–∏—è 3.0
         : üõ†Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ build info
         : üì¢ "–ü–ª–∞–≤–∞—é—â–∏–µ –æ–∫–Ω–∞" –Ω–∞ UI
         : üì¢ –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ–∫
  section 2023
    –ò—é–ª—å : üì¢ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
         : üî© "–ì–ª—É–±–æ–∫–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥" üò≥ d7d25a5b9f
    –°–µ–Ω—Ç—è–±—Ä—å : üîß –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
             : üì¶ –í–æ–∑–≤—Ä–∞—Ç sqlite
             : ü™õ –£—Ç–∏–ª–∏—Ç–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –ë–î
             : üìù –î–æ–±–∞–≤–ª–µ–Ω README
             : üì¢ –†–µ–∂–∏–º —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –û–ó–£
             : üì¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–æ—Ä–∫–µ—Ä–æ–≤
             : üõ†Ô∏è ReactJS
    –û–∫—Ç—è–±—Ä—å : üì¶ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL
    –î–µ–∫–∞–±—Ä—å : üóëÔ∏è –£–¥–∞–ª–µ–Ω ReactJS
            : üì¢ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
            : üìù –ü–ª–∞–Ω—ã –Ω–∞ –≤–µ—Ä—Å–∏—é 4
            : üì¢ –í–Ω–µ—à–Ω—è—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
            : üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ sqlite (—Å–Ω–æ–≤–∞)
            : ‚¨° –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
            : üì¢ –≠–∫—Å–ø–æ—Ä—Ç –∫–Ω–∏–≥ –≤–æ—Ä–∫–µ—Ä–æ–º
            : üêã –î–æ–∫–µ—Ä –∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
            : üì¢ –ü–æ—è–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∞–≥–µ–Ω—Ç–æ–≤
            : üÜô Flutter UI
  section 2024
    –Ø–Ω–≤–∞—Ä—å : üõ†Ô∏è –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ API –∏ –Ω–∞–∑–≤–∞–Ω–∏–π
           : üõ†Ô∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤ "JDB"
           : üÜô –í–µ—Ä—Å–∏—è 4.0
    –ú–∞—Ä—Ç : üõ†Ô∏è –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ log/slog
         : üì¢ –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü
         : üìù –ü–ª–∞–Ω—ã –Ω–∞ –≤–µ—Ä—Å–∏—é 5
         : ü™õ –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞—Ç –≤ –ë–î
         : ü™õ –£—Ç–∏–ª–∏—Ç—ã –ø–æ–∏—Å–∫–∞ –∫–æ–ø–∏–π –¥–∞–Ω–Ω—ã—Ö
    –ò—é–Ω—å : üõ†Ô∏è API –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ 5-—é –≤–µ—Ä—Å–∏—é
         : ü™õ –ú–∏–≥—Ä–∞—Ç–æ—Ä –≤ 5 –≤–µ—Ä—Å–∏—é
         : üÜô Kotlin UI
         : üÜô –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç –Ω–∞–¥ HGnext
         : üì¢ –°–∏—Å—Ç–µ–º–∞ –º–µ—Ç–æ–∫
         : üõ†Ô∏è –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ VueJS
         : üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
         : üì¢ –≠–∫—Å–ø–æ—Ä—Ç –∫–Ω–∏–≥ –≤ –∞–≥–µ–Ω—Ç–∞
    –ò—é–ª—å : üì¢ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
         : üì¢ –ë–æ—Ä–¥–∞ Grafana
         : üÜô Agent-fs
         : üì¢ –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –∞–≥–µ–Ω—Ç–µ
         : üõ†Ô∏è OpenTelemetry
         : üõ†Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ yaml
         : üì¢ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–æ–≤ –∏–∑ –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
         : üì¢ –°–ø–∏—Å–æ–∫ –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤
         : üõ†Ô∏è –û—Ç–ª–∞–¥–æ—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∞—Ä—Ö–∏–≤–æ–≤ –∞–≥–µ–Ω—Ç–æ–º
         : ‚ò†Ô∏è –ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Kotlin UI
    –ê–≤–≥—É—Å—Ç : üì¢ –°–µ—Ä–≤–µ—Ä –∫–∞–∫ –∫–µ—à-–∞–≥–µ–Ω—Ç
           : üì¢ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
           : üì¢ –£–¥–∞–ª–µ–Ω–∏–µ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–Ω–∏–≥
           : üì¢ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–Ω–∏–≥
           : üì¢ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (–∫–∞—Ç–∞–ª–æ–≥–∏)
           : üì¢ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
           : üõ†Ô∏è –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –≤ –∞–≥–µ–Ω—Ç–µ
    –°–µ–Ω—Ç—è–±—Ä—å : üì¢ –ü–æ–∏—Å–∫ –∫–Ω–∏–≥ –ø–æ –∞—Ä—Ö–∏–≤—É
             : üì¢ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ agent-fs
             : üì¢ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ agent-fs
    –û–∫—Ç—è–±—Ä—å : üÜô React UI
    –î–µ–∫–∞–±—Ä—å : üì¢ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º
            : üì¢ –ü—Ä–µ—Å–µ—Ç—ã –º–µ—Ç–æ–∫
            : üì¢ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ—Ç–∫–∞–º
            : üì¢ –ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
            : üõ†Ô∏è –°–∏—Å—Ç–µ–º–∞ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
            : üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ VueJS
            : üì¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–∑–º–µ—Ä–∞—Ö –∫–Ω–∏–≥–∏
            : üì¢ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–Ω–∏–≥
  section 2025
    –Ø–Ω–≤–∞—Ä—å : üì¢ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –∫–Ω–∏–≥–µ
           : üì¢ –ü–æ–∏—Å–∫ –∫–Ω–∏–≥ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
           : üì¢ –†–µ–¥–∞–∫—Ç–æ—Ä –∫–Ω–∏–≥–∏
           : üì¢ –†–µ–±–∏–ª–¥–µ—Ä –∫–Ω–∏–≥–∏
           : üì¢ –ú–µ—Ä—Ç–≤—ã–µ —Ö–µ—à–∏
           : üì¢ –¶–≤–µ—Ç–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
           : üì¢ –ë—ã—Å—Ç—Ä–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º
           : üì¢ –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
           : üì¢ Highway
           : üÜô –í–µ—Ä—Å–∏—è next 0.0
           : üÜô Agent core
           : ‚ò†Ô∏è –ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ agent-fs
    –§–µ–≤—Ä–∞–ª—å : üì¢ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
            : üì¢ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –≤ —Ä–µ–±–∏–ª–¥–µ—Ä–µ
            : üõ†Ô∏è –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥—É–ª—è –≤–µ–± —Å–µ—Ä–≤–µ—Ä–∞
            : üõ†Ô∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–æ—Ä–¥—ã Grafana —á–µ—Ä–µ–∑ jsonnet
            : üì¢ –ó–µ—Ä–∫–∞–ª–∞ —Å–∞–π—Ç–æ–≤
            : üóëÔ∏è –û—Ç–∫–∞–∑ –æ—Ç sqlx
            : üÜô –í–µ—Ä—Å–∏—è next 1.0
            : ü™õ –£—Ç–∏–ª–∏—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—Ä—Ö–∏–≤–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—É
            : üõ†Ô∏è –û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –≤ agent core
            : üõ†Ô∏è Pyroscope
    –ú–∞—Ä—Ç : üì¢ –†–µ–º–∞–ø–∏–Ω–≥ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
         : üì¢ –¶–≤–µ—Ç–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –≤ —Å–ø–∏—Å–∫–µ –∫–Ω–∏–≥
         : üì¢ –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –Ω–∞–≤–µ—Ä—Ö –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü
         : üõ†Ô∏è –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ agent core
    –ê–ø—Ä–µ–ª—å : üì¢ HProxy
    –ú–∞–π : üì¢ –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞ –ø–æ–∑–∏—Ü–∏–π –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤ —Ä–µ–±–∏–ª–¥–µ—Ä–µ
    –ê–≤–≥—É—Å—Ç : üì¢ –ú–∞—Å—Å–æ–≤—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏
           : üõ†Ô∏è –ü–µ—Ä–µ—Å–º–æ—Ç—Ä –ª–∏–Ω—Ç–µ—Ä–æ–≤ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–µ
           : üõ†Ô∏è –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥—É–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
           : üì¢ –õ–∏–º–∏—Ç—ã –¥–ª—è HProxy
           : üõ†Ô∏è –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã React UI
    –°–µ–Ω—Ç—è–±—Ä—å : üõ†Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ toml
             : üõ†Ô∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–æ—Ä–¥—ã Grafana —á–µ—Ä–µ–∑ go-sdk
             : üì¢ –°–æ–∫—Ä—ã—Ç–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤ —Ä–µ–±–∏–ª–¥–µ—Ä–µ
             : üóëÔ∏è –û—Ç–∫–∞–∑ –æ—Ç jsonnet
```

## –°–ª–æ–≤–∞—Ä—å —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

| –í –∫–æ–¥–µ    | –°–ª–æ–≤–æ             | –ó–Ω–∞—á–µ–Ω–∏–µ                                                                                 | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ                                                    |
| --------- | ----------------- | ---------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| book      | –ö–Ω–∏–≥–∞             | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ —Å—Ç—Ä–∞–Ω–∏—Ü              |                                                               |
| agent     | –ê–≥–µ–Ω—Ç             | –°–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö                                        |                                                               |
| page      | –°—Ç—Ä–∞–Ω–∏—Ü–∞          | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –Ω–∏–º                                  |                                                               |
| attribute | –ê—Ç—Ä–∏–±—É—Ç           | –î–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏, –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä –∞–≤—Ç–æ—Ä)                                            |                                                               |
| label     | –ú–µ—Ç–∫–∞             | –ù–µ–∫–∞—è –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–Ω–∏–≥–µ –∏–ª–∏ –µ–µ —Å—Ç—Ä–∞–Ω–∏—Ü–µ                                            | –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç –≤–∏–¥ –ø–∞—Ä—ã –∫–ª—é—á –∑–Ω–∞—á–µ–Ω–∏–µ                           |
| deadHash  | –ú–µ—Ä—Ç–≤—ã–π —Ö–µ—à       | –•–µ—à–∏ —Ñ–∞–π–ª–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –∏–Ω—Ç–µ—Ä–µ—Å–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è                    |                                                               |
| fs        | –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞  | –°–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤                                                              | –ú–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ –Ω–∞ –∞–≥–µ–Ω—Ç–µ, —Ç–∞–∫ –∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ |
| highway   | –•–∞–π–≤–µ–π            | –°–ø–æ—Å–æ–± –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é —Å —Ñ–∞–π–ª–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤, –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è    |                                                               |
| mirror    | –ó–µ—Ä–∫–∞–ª–æ           | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞, —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—É–±–ª–µ–π | –†–∞–Ω–µ–µ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—É–±–ª–µ–π –ø–æ –∑–µ—Ä–∫–∞–ª–∞–º –±—ã–ª–∞ —á–∞—Å—Ç—å—é –∞–≥–µ–Ω—Ç–∞  |
| hproxy    | –ü—Ä–æ–±—Ä–æ—Å —Å–∞–π—Ç–∞     | –°–ø–æ—Å–æ–± –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–∞–π—Ç—ã –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–∞–ø—Ä—è–º—É—é –≤ hgraber                               |                                                               |
| massload  | –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–æ–≤—ã–º–∏ –∑–∞–∫–∞—á–∫–∞–º–∏ –∏ –∏—Ö –º–∞–ø–∏–Ω–≥–æ–º –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç—ã                    |                                                               |

## –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

![schema](scheme.drawio.png)

–ù–∞ —Å—Ö–µ–º–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ:

- 2 –º–∞—Å—Ç–µ—Ä —Å–∏—Å—Ç–µ–º—ã A –∏ B (–≤–∞–∂–Ω–æ, hgnext –Ω–µ –∏–º–µ–µ—Ç –º—É–ª—å—Ç–∏–º–∞—Å—Ç–µ—Ä–∞)
  - –°–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç –≤—ã–≥—Ä—É–∂–∞—Ç—å –≤ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –¥–∞–Ω–Ω—ã–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∫–∞–∫ –∫–µ—à (–Ω–µ –±—É–¥–µ—Ç –ø–æ—Ö–æ–¥–∞ –≤ –ø–∞—Ä—Å–µ—Ä)
  - –°–∏—Å—Ç–µ–º–∞ A
    - –ò–º–µ–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É A
    - –§–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ –∞–≥–µ–Ω—Ç–∞ B
    - –ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö A
  - –°–∏—Å—Ç–µ–º–∞ B
    - –§–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ –∞–≥–µ–Ω—Ç–∞ C
    - –ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö B
- 3 –ê–≥–µ–Ω—Ç–∞ A, B, C
  - –ê–≥–µ–Ω—Ç A
    - –ò–º–µ–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É B
    - –£–º–µ–µ—Ç –ø–∞—Ä—Å–∏—Ç—å —Å–∞–π—Ç A
    - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç
  - –ê–≥–µ–Ω—Ç B
    - –£–º–µ–µ—Ç –ø–∞—Ä—Å–∏—Ç—å —Å–∞–π—Ç B –∏ C
  - –ê–≥–µ–Ω—Ç C
    - –ò–º–µ–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É C
    - –£–º–µ–µ—Ç –ø–∞—Ä—Å–∏—Ç—å —Å–∞–π—Ç D –∏ E

## –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫ (Grafana stack)

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–æ—Ä–¥—ã —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª `config-dashboard-example.toml` –≤ `config-dashboard.toml`
2. –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `config-dashboard.toml` –Ω–∞ –Ω—É–∂–Ω—ã–µ
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é `make grafana`

Docker compose

```yaml
services:
  main:
    container_name: hgraber-next-main
    logging:
      driver: loki
      options:
        loki-url: "http://localhost:3100/loki/api/v1/push"
```

Prometheus

```yaml
scrape_configs:
  - job_name: hgraber-next
    static_configs:
      - targets:
          - localhost:8080
        labels:
          service_name: hgraber-next-main
```

Promtail

```yaml
scrape_configs:
  - job_name: hgraber-next
    static_configs:
      - targets:
          - localhost
        labels:
          job: hgraber-next
          __path__: <path to logs>
          service_name: hgraber-next-main
```

## –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CD –≤ Jenkins

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä –ø–∞–π–ø–ª–∞–π–Ω–∞, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –≥–æ—Ç–æ–≤—ã–π

```bash
export PATH=$PATH:/usr/local/go/bin:$HOME/go/bin
bash build.bash

docker build --build-arg "BINARY_PATH=_build/server-linux-amd64" -t hgraber-next-server:latest .
docker compose -f "${DC_PATH}/docker-compose.yml" up -d --remove-orphans

go run cmd/grafanagenerator/main.go --config "${DC_PATH}/dashboard.toml"
```

## –î–µ—Ñ–æ–ª—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ `configremaper`

**–í–∞–∂–Ω–æ:** –º–æ–≥—É—Ç –±—ã—Ç—å –Ω—é–∞–Ω—Å—ã —Å –ø–µ—Ä–µ–Ω–æ—Å–æ–º –≤ env —Ñ–æ—Ä–º–∞—Ç

–î–ª—è –µ–µ —Å–±–æ—Ä–∫–∏

> go build -o ./bin/build/configremaper ./cmd/configremaper

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è `.yaml`, `.yml`, `.toml`, `.env`)

> ./bin/build/configremaper --out config-generated.yaml

–î–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∫–æ–Ω—Ñ–∏–≥–∞ –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞—Ç–∞–º–∏

> ./bin/build/configremaper -in config.yaml -out config.toml

## –ü–ª–∞–Ω—ã –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –≤–µ—Ä—Å–∏—é

1. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ —É–ª—É—á—à–µ–Ω–∏–µ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
2. –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î

## –ü—Ä–æ—à–ª—ã–µ –≤–µ—Ä—Å–∏–∏

- HGraber (1-4) [Github](https://github.com/gbh007/hgraber)/[Gitlab](https://gitlab.com/gbh007/hgraber)

–û—Ç–ª–∏—á–∏—è –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏:

1. –ò–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ë–î —Å —Ü–µ–ª—å—é:
   - –£–º–µ–Ω—å—à–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
2. –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç PULL –º–æ–¥–µ–ª–∏ –∞–≥–µ–Ω—Ç–æ–≤ –∫ PUSH, –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π —Å–µ—Ä–≤–µ—Ä (–≤–∫–ª—é—á–∞—è –ª–æ–≥–∏–∫—É –∑–µ—Ä–∫–∞–ª —Å–∞–π—Ç–æ–≤)
3. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ "–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ" –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã
   - –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∏—Å—Ç–µ–º–∞ –ø–∏—Å–∞–ª–∞—Å—å –∫–∞–∫ –±–æ–ª–µ–µ –±–ª–∏–∑–∫–∞—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–ª–æ–≥–∏ –≤–∏–¥–∞ plain text –∏ —Ç.–ø.) –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ "—á–∏—Å—Ç–∞—è"
4. –§–∏—á–∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –∏ –æ—á–∏—Å—Ç–∫–∏ –Ω–µ–Ω—É–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
